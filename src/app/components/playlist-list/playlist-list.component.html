<div class="playlist-list">
  <header class="header">
    <h1>Playlists</h1>
    <p class="subtitle">Create playlists and add tracks from Free Music.</p>
    <button type="button" class="btn-primary" (click)="createPlaylist()">New playlist</button>
  </header>

  @if (playlistService.playlistsList().length === 0) {
    <p class="empty">No playlists yet. Create one to get started.</p>
  } @else {
    <ul class="list">
      @for (p of playlistService.playlistsList(); track p.id) {
        <li class="list-item">
          <button type="button" class="item-main" (click)="open(p.id)">
            <span class="item-name">{{ p.name }}</span>
            <span class="item-count">{{ p.trackIds.length }} track{{ p.trackIds.length === 1 ? '' : 's' }}</span>
          </button>
          <div class="item-actions">
            <button type="button" class="btn-icon" (click)="play(p.id); $event.stopPropagation()" [disabled]="p.trackIds.length === 0" title="Play">▶</button>
            <button type="button" class="btn-icon" (click)="rename(p); $event.stopPropagation()" title="Rename">✎</button>
            <button type="button" class="btn-icon" (click)="delete(p.id, p.name); $event.stopPropagation()" title="Delete">×</button>
          </div>
        </li>
      }
    </ul>
  }
</div>
