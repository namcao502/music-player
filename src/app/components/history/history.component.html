<div class="history-page">
  <header class="header">
    <h1>{{ strings.PAGE.HISTORY_TITLE }}</h1>
    <p class="subtitle">{{ strings.PAGE.HISTORY_SUBTITLE }}</p>
    @if (historyService.historyList().length > 0) {
      <button type="button" class="btn-clear" (click)="clearHistory()">{{ strings.BTN.CLEAR_HISTORY }}</button>
    }
  </header>

  @if (historyService.historyList().length === 0) {
    <p class="empty">{{ strings.EMPTY.HISTORY }}</p>
  } @else {
    <ul class="track-list">
      @for (entry of historyService.historyList(); track entry.track.id) {
        <li class="track-item" (click)="playTrack(entry)" role="button" tabindex="0" (keydown.enter)="playTrack(entry)">
          <div class="track-info">
            <span class="track-title">{{ entry.track.title }}</span>
            @if (entry.track.artist) {
              <span class="track-artist">{{ entry.track.artist }}</span>
            }
          </div>
          <span class="track-duration">{{ formatDuration(entry.track.duration) }}</span>
          <span class="track-date">{{ formatDate(entry.playedAt) }}</span>
        </li>
      }
    </ul>
  }
</div>
